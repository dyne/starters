<script lang="ts">
	import { CollectionSelect } from '@/collections-management';
	import CollectionSearch from '@/collections-management/collectionSearch.svelte';
</script>

<div class="space-y-4">
	<CollectionSearch
		collection="z_test_collection"
		expand={['relation_multi_field']}
		displayFn={(record) => record.expand?.relation_multi_field?.map((u) => u.name).join(', ') ?? ''}
	/>

	<CollectionSelect
		collection="z_test_collection"
		onSelect={(r) => console.log(r)}
		expand={['relation_multi_field']}
		displayFn={(record) => {
			return record.expand?.relation_multi_field?.map((u) => u.name).join(', ') ?? '';
		}}
	/>
</div>
